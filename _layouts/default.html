<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if page.title %}{{ page.title }} - {% endif %}{{ site.title }}</title>
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
</head>
<body>
    <div class="container">
        <!-- Left Navigation Pane -->
        <nav class="sidebar-left">
            <div class="nav-header">
                <h3><a href="{{ '/' | relative_url }}">{{ site.title | default: "Technical Writer Portfolio" }}</a></h3>
                <p class="nav-subtitle">Documentation Specialist</p>
            </div>
            
            <div class="nav-section">
                <h4>Portfolio</h4>
                <ul class="nav-links">
                    <li><a href="{{ '/' | relative_url }}">Home</a></li>
                    <li><a href="{{ '/about' | relative_url }}">About</a></li>
                    <li><a href="{{ '/knowledge-base' | relative_url }}">Knowledge Base</a></li>
                    <li><a href="{{ '/contact' | relative_url }}">Contact</a></li>
                </ul>
            </div>
            
            <div class="nav-section">
                <h4>Knowledge Base</h4>
                <ul class="nav-links">
                    <li><a href="{{ '/knowledge-base/api-documentation-guide' | relative_url }}">API Documentation Guide</a></li>
                    <li><a href="{{ '/knowledge-base/user-onboarding-tutorial' | relative_url }}">User Onboarding Tutorial</a></li>
                    <li><a href="{{ '/knowledge-base/troubleshooting-guide' | relative_url }}">Troubleshooting Guide</a></li>
                </ul>
            </div>
            
            <div class="nav-section">
                <h4>Skills</h4>
                <ul class="nav-tags">
                    <li><span class="tag">API Documentation</span></li>
                    <li><span class="tag">User Guides</span></li>
                    <li><span class="tag">Technical Writing</span></li>
                    <li><span class="tag">Troubleshooting</span></li>
                </ul>
            </div>
        </nav>

        <!-- Main Content Pane -->
        <main class="main-content">
            <div class="content-header">
                <h1>{{ page.title }}</h1>
                {% if page.description %}
                    <p class="page-description">{{ page.description }}</p>
                {% endif %}
            </div>
            
            <div class="content-body">
                {{ content }}
            </div>
        </main>

        <!-- Right Sidebar Pane -->
        <aside class="sidebar-right">
            <div class="toc-section">
                <h4>On This Page</h4>
                <div id="toc-container">
                    <!-- Table of contents will be generated by JavaScript -->
                </div>
            </div>
            
            <div class="info-section">
                <h4>Quick Links</h4>
                <ul class="quick-links">
                    <li><a href="https://github.com/{{ site.github.owner_name }}" target="_blank">GitHub Profile</a></li>
                    <li><a href="https://linkedin.com/in/your-profile" target="_blank">LinkedIn</a></li>
                    <li><a href="mailto:your.email@example.com">Contact Me</a></li>
                </ul>
            </div>
        </aside>
    </div>

    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">â°</button>

    <script>
        // Generate Table of Contents
        function generateTOC() {
            const headings = document.querySelectorAll('.content-body h1, .content-body h2, .content-body h3, .content-body h4');
            const tocContainer = document.getElementById('toc-container');
            
            if (headings.length === 0) {
                tocContainer.innerHTML = '<p>No headings found</p>';
                return;
            }
            
            let tocHTML = '<ul class="toc-list">';
            headings.forEach((heading, index) => {
                const id = heading.id || `heading-${index}`;
                heading.id = id;
                const level = heading.tagName.toLowerCase();
                tocHTML += `<li class="toc-${level}"><a href="#${id}">${heading.textContent}</a></li>`;
            });
            tocHTML += '</ul>';
            
            tocContainer.innerHTML = tocHTML;
        }
        
        // Mobile menu toggle
        function toggleMobileMenu() {
            const sidebar = document.querySelector('.sidebar-left');
            sidebar.classList.toggle('mobile-open');
        }
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            generateTOC();
        });
    </script>
</body>
</html>
